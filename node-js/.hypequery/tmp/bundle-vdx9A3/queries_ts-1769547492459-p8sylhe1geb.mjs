// src/analytics/queries.ts
import { initServe } from "@hypequery/serve";

// src/analytics/client.ts
import { createQueryBuilder } from "@hypequery/clickhouse";
var db = createQueryBuilder({
  host: process.env.CLICKHOUSE_HOST,
  database: process.env.CLICKHOUSE_DATABASE,
  username: process.env.CLICKHOUSE_USERNAME,
  password: process.env.CLICKHOUSE_PASSWORD
});

// src/analytics/queries.ts
var serve = initServe({
  context: () => ({ db })
});
var { query } = serve;
var api = serve.define({
  queries: serve.queries({
    tripsQuery: query.describe("Example query using the trips table").query(
      async ({ ctx }) => ctx.db.table("trips").select("*").limit(10).execute()
    )
  })
});
export {
  api
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL2FuYWx5dGljcy9xdWVyaWVzLnRzIiwgInNyYy9hbmFseXRpY3MvY2xpZW50LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBpbml0U2VydmUgfSBmcm9tICdAaHlwZXF1ZXJ5L3NlcnZlJztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuaW1wb3J0IHsgZGIgfSBmcm9tICcuL2NsaWVudCc7XG5cbmNvbnN0IHNlcnZlID0gaW5pdFNlcnZlKHtcbiAgY29udGV4dDogKCkgPT4gKHsgZGIgfSksXG59KTtcbmNvbnN0IHsgcXVlcnkgfSA9IHNlcnZlO1xuXG5leHBvcnQgY29uc3QgYXBpID0gc2VydmUuZGVmaW5lKHtcbiAgcXVlcmllczogc2VydmUucXVlcmllcyh7XG4gICAgdHJpcHNRdWVyeTogcXVlcnlcbiAgICAgIC5kZXNjcmliZSgnRXhhbXBsZSBxdWVyeSB1c2luZyB0aGUgdHJpcHMgdGFibGUnKVxuICAgICAgLnF1ZXJ5KGFzeW5jICh7IGN0eCB9KSA9PlxuICAgICAgICBjdHguZGJcbiAgICAgICAgICAudGFibGUoJ3RyaXBzJylcbiAgICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgICAubGltaXQoMTApXG4gICAgICAgICAgLmV4ZWN1dGUoKVxuICAgICAgKSxcbiAgfSksXG59KTtcblxuLyoqXG4gKiBJbmxpbmUgdXNhZ2UgZXhhbXBsZTpcbiAqXG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBhcGkuZXhlY3V0ZSgndHJpcHNRdWVyeScpO1xuICogY29uc29sZS5sb2cocmVzdWx0KTtcbiAqXG4gKiAvLyBpbXBvcnQgdHlwZSB7IEluZmVyUXVlcnlSZXN1bHQgfSBmcm9tICdAaHlwZXF1ZXJ5L3NlcnZlJztcbiAqIHR5cGUgVHJpcHNRdWVyeVJlc3VsdCA9IEluZmVyUXVlcnlSZXN1bHQ8dHlwZW9mIGFwaSwgJ3RyaXBzUXVlcnknPjtcbiAqXG4gKiBEZXYgc2VydmVyOlxuICpcbiAqIG5weCBoeXBlcXVlcnkgZGV2XG4gKi9cbiIsICJpbXBvcnQgeyBjcmVhdGVRdWVyeUJ1aWxkZXIgfSBmcm9tICdAaHlwZXF1ZXJ5L2NsaWNraG91c2UnO1xuaW1wb3J0IHR5cGUgeyBJbnRyb3NwZWN0ZWRTY2hlbWEgfSBmcm9tICcuL3NjaGVtYSc7XG5cbmV4cG9ydCBjb25zdCBkYiA9IGNyZWF0ZVF1ZXJ5QnVpbGRlcjxJbnRyb3NwZWN0ZWRTY2hlbWE+KHtcbiAgaG9zdDogcHJvY2Vzcy5lbnYuQ0xJQ0tIT1VTRV9IT1NUISxcbiAgZGF0YWJhc2U6IHByb2Nlc3MuZW52LkNMSUNLSE9VU0VfREFUQUJBU0UhLFxuICB1c2VybmFtZTogcHJvY2Vzcy5lbnYuQ0xJQ0tIT1VTRV9VU0VSTkFNRSEsXG4gIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5DTElDS0hPVVNFX1BBU1NXT1JELFxufSk7XG4iXSwKICAibWFwcGluZ3MiOiAiO0FBQUEsU0FBUyxpQkFBaUI7OztBQ0ExQixTQUFTLDBCQUEwQjtBQUc1QixJQUFNLEtBQUssbUJBQXVDO0FBQUEsRUFDdkQsTUFBTSxRQUFRLElBQUk7QUFBQSxFQUNsQixVQUFVLFFBQVEsSUFBSTtBQUFBLEVBQ3RCLFVBQVUsUUFBUSxJQUFJO0FBQUEsRUFDdEIsVUFBVSxRQUFRLElBQUk7QUFDeEIsQ0FBQzs7O0FESkQsSUFBTSxRQUFRLFVBQVU7QUFBQSxFQUN0QixTQUFTLE9BQU8sRUFBRSxHQUFHO0FBQ3ZCLENBQUM7QUFDRCxJQUFNLEVBQUUsTUFBTSxJQUFJO0FBRVgsSUFBTSxNQUFNLE1BQU0sT0FBTztBQUFBLEVBQzlCLFNBQVMsTUFBTSxRQUFRO0FBQUEsSUFDckIsWUFBWSxNQUNULFNBQVMscUNBQXFDLEVBQzlDO0FBQUEsTUFBTSxPQUFPLEVBQUUsSUFBSSxNQUNsQixJQUFJLEdBQ0QsTUFBTSxPQUFPLEVBQ2IsT0FBTyxHQUFHLEVBQ1YsTUFBTSxFQUFFLEVBQ1IsUUFBUTtBQUFBLElBQ2I7QUFBQSxFQUNKLENBQUM7QUFDSCxDQUFDOyIsCiAgIm5hbWVzIjogW10KfQo=

//# sourceURL=file:///Users/lukereilly/repos/hypequery-examples/node-js/src/analytics/queries.ts